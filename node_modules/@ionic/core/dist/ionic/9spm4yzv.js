/*!
 * (C) Ionic http://ionicframework.com - MIT License
 * Built with http://stenciljs.com
 */

Ionic.loadComponents("9spm4yzv",function(t,e,n,o){"use strict";function s(t,e){const n=c(t);return n?n.componentOnReady().then(()=>n.getRoutes()).then(t=>i(e,t)).then(t=>n.setRouteId(t.id)).then(()=>{const t=n.getState();if(!t)throw new Error("setRouteId failed?");s(t.focusNode,e)}):Promise.resolve()}function r(t){const e=[];let n,o;for(;;){if(!(n=c(t)))break;if(!(o=n.getState()))break;t=o.focusNode,e.push(o)}return{stack:e,pivot:n}}function i(t,e){const n=a(t,e);if(!n)throw"no route found";return n}function a(t,e){if(!e)return null;let n=0;e=e.map(h);let o,s,r=null,i=!1;for(;;){if(0===(e=e.filter(t=>t.segments.length>n)).length)break;o=t.next(),0===(s=(e=e.filter(t=>t.segments[n]===o)).length)?(r=null,i=!1):(r=e[0],i=s>1),n++}if(i)throw new Error("ambiguious match");return r}function u(t){const e=[];for(let n of t)e.push(...l(n.path));return"/"+e.filter(t=>t.length>0).join("/")}function h(t){return void 0!==t.segments&&null!==t.segments||(t.segments=l(t.path)),t}function l(t){if(null===t||void 0===t)return[""];const e=t.split("/").map(t=>t.trim()).filter(t=>t.length>0);return 0===e.length?[""]:e}function c(t){if(!t)return console.error("search root is null"),null;const e=[t];for(;e.length>0;){const t=e.shift();if(d.indexOf(t.tagName)>=0)return t;const n=t.children;for(let t=0;t<n.length;t++)e.push(n[t])}return null}class f{constructor(t){this.segments=t}next(){return this.segments.length>0?this.segments.shift():""}}const d=["ION-NAV","ION-TABS"];class g{constructor(){this.props={}}getRoute(){return{path:this.path,segments:l(this.path),id:this.component,props:this.props}}}class p{constructor(){this.busy=!1,this.enabled=!1,this.basePrefix="#"}componentDidLoad(){if(this.enabled=this.config.getBoolean("useRouter",!1)){const t=document.querySelector("head > base");if(t){const e=t.getAttribute("href");e.length>0&&(this.basePrefix=e)}n.dom.raf(()=>{console.debug("[OUT] page load -> write nav state"),this.writeNavStateRoot()})}}onURLHashChanged(){this.isBlocked()||(console.debug("[OUT] hash changed -> write nav state"),this.writeNavStateRoot())}onNavChanged(t){if(this.isBlocked())return;console.debug("[IN] nav changed -> update URL");const{stack:e,pivot:n}=this.readNavState();n&&(console.debug("[IN] pivot uninitialized -> write partial nav state"),this.writeNavState(n,[]));const o=!0===t.detail.isPop;this.setURL(u(e),o)}setURL(t,e){t=this.basePrefix+t;const n=window.history;e?(n.back(),n.replaceState(null,null,t)):n.pushState(null,null,t)}isBlocked(){return this.busy||!this.enabled}writeNavStateRoot(){const t=document.querySelector("ion-app");return this.writeNavState(t,this.readURL())}writeNavState(t,e){const n=new f(e);return this.busy=!0,s(t,n).catch(t=>console.error(t)).then(()=>this.busy=!1)}readNavState(){return r(document.querySelector("ion-app"))}isHash(){return this.basePrefix.length>0&&"#"===this.basePrefix[0]}readURL(){return l(this.isHash()?window.location.hash.substr(1):window.location.pathname)}}t["ion-route"]=g,t["ion-router-controller"]=p},["ion-route",[["component",1,1,2],["getRoute",6,0,1],["path",1,1,2],["props",1,1,1]],{}],["ion-router-controller",[["config",3,0,1,"config"]],{}]);;